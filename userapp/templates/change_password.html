{% extends 'layout.html' %}
{% load static %}

{% block head %}
Verify Email
{% endblock %}

{% block body %}

<h2>Verify your Email Address</h2>
<p>We have sent an email to the address given. In it, you will see a passcode; enter that in the form below along with your new password and confirmation and press 'Submit'. If it is correct, you will be directed to the login page; if it is not, you will be redirected to the login page to try again.</p>

<div class="registration-content hori">
    <div class="registration-instructions vert">
        <h4>Registration Requirements</h4>
        <ul>
            <li>Usernames must be at least 6 characters long</li>
            <li>Usernames must be unique</li>
            <li>Passwords must be at least 8 characters long</li>
            <li>Passwords must contain at least 1 of each of the following: special character, uppercase letter, number
            </li>
            <li>Your username cannot be the same as your password</li>
        </ul>
    </div>
    <div class="registration-form vert">
        <form action="{% url 'verify_reset' %}" method="POST">
            {% csrf_token %}
            <input type="text" name="passcode" id="passcode" placeholder="Passcode" autocomplete="off"><br>
            <input type="password" name="password" id="password" autocomplete="off" placeholder="Password"><br>
            <input type="password" name="confirmation" id="confirmation" autocomplete="off" placeholder="Confirmation"><br>
            <button type="button" id="register-btn">Submit</button>
        </form>
        <div class="show-password hori">
            <label id="eye-label" for="eye">Show Password</label>
            <button type="button" id="show" class="password-show-btn">
                <img src="{% static site_images %}show_password.avif" alt="Show Password" id="eye">
            </button>
        </div>
        <h5 id="error-message"></h5>
        <!-- use AJAX to update this from backend -->
    </div>
</div>

<script type="text/javascript">
    document.getElementById("show").addEventListener("click", showPassword);
    document.getElementById("register-btn").addEventListener("click", verifyRequirementsReset);
</script>

{% endblock %}
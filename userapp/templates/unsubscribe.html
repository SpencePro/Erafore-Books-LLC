{% extends 'layout.html' %}

{% block head %}
Unsubscribe
{% endblock %}

{% block body %}

<div class="vert center subscribe-div">
    <h4>Unsubscribe from the newsletter</h4>
    <form id="subscribe-form" action="{% url 'unsubscribe_function' %}" method="POST">
        {% csrf_token %}
        <input type="text" name="user-id" id="user-id" value="{{ user_id }}" class="hidden">
        <input type="text" name="email" id="email" value="{{ email }}" class="hidden">
        <input type="text" name="password" id="password" value="{{ passcode }}" class="hidden">
        <button type="button" id="unsubscribe-btn" class="btn btn-primary btn-sm">Unsubscribe</button>
    </form>
    <div class="subscribe-message-div hidden">
        <p id="subscribe-message"></p>
    </div>
</div>

<div class="spinner-div hidden center">
    <div class="spinner-border text-light" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<script type="text/javascript">
    document.getElementById("unsubscribe-btn").addEventListener("click", unsubscribeFunction);
</script>

{% endblock %}